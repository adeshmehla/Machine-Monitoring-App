{"ast":null,"code":"import _regeneratorRuntime from \"E:/adesh/Pardeep sir projects/machine-maintence/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/adesh/Pardeep sir projects/machine-maintence/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"E:/adesh/Pardeep sir projects/machine-maintence/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\adesh\\\\Pardeep sir projects\\\\machine-maintence\\\\react-app\\\\src\\\\component\\\\pages\\\\managerPages\\\\Managerhome.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { Button, Card } from 'antd';\nimport style from './managerHome.module.css';\nimport React from 'react';\nimport { MechanicTableForManager } from './mechanicTableForManager';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { isAuth } from '../../redux/pageSlice';\nimport axios from 'axios';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var ManagerHomePage = function ManagerHomePage() {\n  _s();\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    supervisorData = _useState4[0],\n    setSupervisorData = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    breakdownStartTime = _useState6[0],\n    setBreakdownStartTime = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    breakdownEndTime = _useState8[0],\n    setBreakdownEndTime = _useState8[1];\n  var handleLogout = function handleLogout() {\n    dispatch(isAuth(false));\n    navigate('/');\n    localStorage.clear();\n  };\n  var startTime = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            axios.get('http://localhost:5000/api/supervisor_table').then(function (res) {\n              return setSupervisorData(res.data);\n            }).then(function (err) {\n              return console.log(err, 'error');\n            });\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function startTime() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var loadData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            axios.get('http://localhost:5000/api/mechanic_table').then(function (res) {\n              return setData(res.data);\n            }).then(function (err) {\n              return console.log(err, 'error');\n            });\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function loadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    // setBreakdownEndTime(data)\n    console.log(data, 'useEffecxt');\n    console.log(supervisorData, 'useEffecxtttt');\n    // const results = data.filter(({ id: id1 }) => !supervisorData.some(({ id: id2 }) => id2 === id1));\n    var results = data && data.filter(function (i) {\n      console.log(i.id);\n    });\n    console.log(results, '0000000000000000000000000000');\n  }, [data]);\n  useEffect(function () {\n    loadData();\n    // getBreakdownTime();\n    console.log('kkkk');\n    startTime();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.mainHeading,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manager & Executive (Seniors)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#ECECEC',\n        padding: '30px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Downtime Status\",\n        bordered: false,\n        style: {\n          width: 300\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Downtime duration: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [breakdownStartTime, \" To \", data && data.repair_start_time, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, _this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, _this), \",\", /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        margin: \"2%\",\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(MechanicTableForManager, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n_s(ManagerHomePage, \"YdkjbV3V3OPcPs2HzXPyFxgstTU=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = ManagerHomePage;\nvar _c;\n$RefreshReg$(_c, \"ManagerHomePage\");","map":{"version":3,"names":["Button","Card","style","React","MechanicTableForManager","useNavigate","useDispatch","isAuth","axios","useEffect","useState","ManagerHomePage","navigate","dispatch","data","setData","supervisorData","setSupervisorData","breakdownStartTime","setBreakdownStartTime","breakdownEndTime","setBreakdownEndTime","handleLogout","localStorage","clear","startTime","get","then","res","err","console","log","loadData","results","filter","i","id","mainHeading","background","padding","width","repair_start_time","margin","float"],"sources":["E:/adesh/Pardeep sir projects/machine-maintence/react-app/src/component/pages/managerPages/Managerhome.js"],"sourcesContent":["import { Button,Card } from 'antd'\r\nimport style from './managerHome.module.css'\r\nimport React from 'react'\r\nimport { MechanicTableForManager } from './mechanicTableForManager'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { isAuth } from '../../redux/pageSlice'\r\nimport axios from 'axios'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\n\r\nexport const ManagerHomePage=()=>{\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch();\r\n  const[data,setData]=useState(null)\r\n  const[supervisorData,setSupervisorData]=useState(null)\r\n  const[breakdownStartTime,setBreakdownStartTime]=useState(null)\r\n  const[breakdownEndTime,setBreakdownEndTime]=useState(null)\r\n  const handleLogout = ()=>{\r\n   dispatch(isAuth(false))\r\n    navigate('/')\r\n    localStorage.clear()\r\n  }\r\n  \r\n  const startTime = async()=>{\r\n    axios.get('http://localhost:5000/api/supervisor_table').then(res=>setSupervisorData(res.data)).then(err=>console.log(err,'error'))\r\n  }\r\n  const loadData = async()=>{\r\n    axios.get('http://localhost:5000/api/mechanic_table')\r\n    .then(res=>setData(res.data)).then(err=>console.log(err,'error'))\r\n  }\r\n  useEffect(()=>{\r\n  // setBreakdownEndTime(data)\r\n  console.log(data,'useEffecxt')\r\n  console.log(supervisorData,'useEffecxtttt')\r\n  // const results = data.filter(({ id: id1 }) => !supervisorData.some(({ id: id2 }) => id2 === id1));\r\n  const results = data && data.filter((i)=>{console.log(i.id)})\r\n  console.log(results,'0000000000000000000000000000')\r\n  },[data])\r\n  useEffect(()=>{\r\n    loadData();\r\n    // getBreakdownTime();\r\n    console.log('kkkk')\r\n    startTime();\r\n  },[])\r\n\r\n  \r\n  return (\r\n    <>\r\n    <div className={style.mainHeading}>\r\n    <h2 >Manager & Executive (Seniors)</h2>\r\n    </div>\r\n    <div style={{ background: '#ECECEC', padding: '30px' }}>\r\n    <Card title=\"Downtime Status\" bordered={false} style={{ width: 300 }}>\r\n      <p>Downtime duration: <span>{breakdownStartTime} To {data && data.repair_start_time} </span> </p>\r\n    </Card>\r\n  </div>,\r\n        <Button style={{margin:\"2%\",float:\"right\"}} type='primary' onClick={handleLogout}>Logout</Button>\r\n        \r\n   <MechanicTableForManager data={data}/>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}