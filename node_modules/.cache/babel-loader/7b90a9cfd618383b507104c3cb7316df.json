{"ast":null,"code":"import _slicedToArray from \"E:/adesh/Pardeep sir projects/machine-maintence/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\adesh\\\\Pardeep sir projects\\\\machine-maintence\\\\react-app\\\\src\\\\component\\\\pages\\\\managerPages\\\\Managerhome.js\",\n  _this = this,\n  _s = $RefreshSig$();\n// CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\nimport { Button, Card } from 'antd';\nimport style from './managerHome.module.css';\nimport React from 'react';\nimport { MechanicTableForManager } from './mechanicTableForManager';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { isAuth } from '../../redux/pageSlice';\nimport axios from 'axios';\nimport { useState, useEffect, useMemo } from 'react';\nimport { Chart } from 'react-charts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var ManagerHomePage = function ManagerHomePage() {\n  _s();\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    supervisorData = _useState4[0],\n    setsupervisorData = _useState4[1];\n  // const[supervisorData,setSupervisorData]=useState(null)\n  // const[breakdownEndTime,setBreakdownEndTime]=useState(null)\n  var handleLogout = function handleLogout() {\n    dispatch(isAuth(false));\n    navigate('/');\n    localStorage.clear();\n  };\n  useEffect(function () {\n    axios.get('http://localhost:5000/api/mechanic_table').then(function (res) {\n      return setData(res.data);\n    });\n    axios.get('http://localhost:5000/api/supervisor_table').then(function (res) {\n      return setsupervisorData(res.data);\n    });\n  }, []);\n  var getBreakDownTime = function getBreakDownTime() {\n    console.log(supervisorData, '000000', data);\n    //  let supervisorIds =  supervisorData.filter(i=>console.log(i.id))\n    var results1 = supervisorData.filter(function (_ref) {\n      var id1 = _ref.id;\n      return data.some(function (_ref2) {\n        var id2 = _ref2.id;\n        return id2 === id1;\n      });\n    });\n    var results2 = data.filter(function (_ref3) {\n      var id1 = _ref3.id;\n      return supervisorData.some(function (_ref4) {\n        var id2 = _ref4.id;\n        return id2 === id1;\n      });\n    });\n\n    // console.log(results1,results2,'-----same Id ------------')\n    var start = results1[0].breakdown_start_time.slice(10, 16);\n    var end = results2[0].breakdown_end_time.slice(10, 16);\n    console.log(start.slice(2, 3), end.slice(2, 3), '------------');\n    // console.log(,'------------')\n    // let newArr = results1[0].breakdown_start_time\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.mainHeading,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manager & Executive (Seniors)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: getBreakDownTime,\n      children: \"Calculate BreakdownTime\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#ECECEC',\n        padding: '30px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, _this), \",\", /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        margin: \"2%\",\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(MechanicTableForManager, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n_s(ManagerHomePage, \"SiWF+GUmEOOG0UVlWnWY9H7LdcA=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = ManagerHomePage;\nvar _c;\n$RefreshReg$(_c, \"ManagerHomePage\");","map":{"version":3,"names":["Button","Card","style","React","MechanicTableForManager","useNavigate","useDispatch","isAuth","axios","useState","useEffect","useMemo","Chart","ManagerHomePage","navigate","dispatch","data","setData","supervisorData","setsupervisorData","handleLogout","localStorage","clear","get","then","res","getBreakDownTime","console","log","results1","filter","id1","id","some","id2","results2","start","breakdown_start_time","slice","end","breakdown_end_time","mainHeading","background","padding","margin","float"],"sources":["E:/adesh/Pardeep sir projects/machine-maintence/react-app/src/component/pages/managerPages/Managerhome.js"],"sourcesContent":["// CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\r\nimport { Button,Card } from 'antd'\r\nimport style from './managerHome.module.css'\r\nimport React from 'react'\r\nimport { MechanicTableForManager } from './mechanicTableForManager'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { isAuth } from '../../redux/pageSlice'\r\nimport axios from 'axios'\r\nimport { useState,useEffect,useMemo } from 'react'\r\nimport { Chart } from 'react-charts'\r\nexport const ManagerHomePage=()=>{\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch();\r\n  const[data,setData]=useState(null)\r\n  const[supervisorData,setsupervisorData]=useState(null)\r\n  // const[supervisorData,setSupervisorData]=useState(null)\r\n  // const[breakdownEndTime,setBreakdownEndTime]=useState(null)\r\n  const handleLogout = ()=>{\r\n   dispatch(isAuth(false))\r\n    navigate('/')\r\n    localStorage.clear()\r\n  }\r\n\r\n \r\n  useEffect(()=>{\r\n    axios.get('http://localhost:5000/api/mechanic_table')\r\n    .then(res=>setData(res.data))\r\n    axios.get('http://localhost:5000/api/supervisor_table')\r\n    .then(res=>setsupervisorData(res.data))\r\n  \r\n  },[])\r\n\r\n  const getBreakDownTime = ()=>{\r\n  console.log(supervisorData,'000000',data)\r\n//  let supervisorIds =  supervisorData.filter(i=>console.log(i.id))\r\n  const results1 = supervisorData.filter(({ id: id1 }) => data.some(({ id: id2 }) => id2 === id1));\r\n  const results2 = data.filter(({ id: id1 }) => supervisorData.some(({ id: id2 }) => id2 === id1));\r\n\r\n// console.log(results1,results2,'-----same Id ------------')\r\nlet start = results1[0].breakdown_start_time.slice(10,16)\r\n\r\nlet end = results2[0].breakdown_end_time.slice(10,16)\r\n\r\nconsole.log(start.slice(2,3),end.slice(2,3),'------------')\r\n// console.log(,'------------')\r\n// let newArr = results1[0].breakdown_start_time\r\n\r\n  }\r\n  \r\n  return (\r\n    <>\r\n    <div className={style.mainHeading}>\r\n    <h2 >Manager & Executive (Seniors)</h2>\r\n    </div>\r\n    <Button onClick={getBreakDownTime}>Calculate BreakdownTime</Button>\r\n    <div style={{ background: '#ECECEC', padding: '30px' }}>\r\n    {/* <Card title=\"Downtime Status\" bordered={false} style={{ width: 300 }}>\r\n      <p>Downtime duration: <span></span> </p>\r\n    </Card> */}\r\n  </div>,\r\n        <Button style={{margin:\"2%\",float:\"right\"}} type='primary' onClick={handleLogout}>Logout</Button>\r\n        \r\n   <MechanicTableForManager data={data}/>\r\n   {/* <Chart datas={data1} axes={axes} /> */}\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}