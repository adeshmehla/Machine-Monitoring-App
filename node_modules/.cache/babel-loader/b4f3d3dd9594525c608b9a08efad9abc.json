{"ast":null,"code":"import _slicedToArray from \"E:/adesh/Pardeep sir projects/machine-maintence/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\adesh\\\\Pardeep sir projects\\\\machine-maintence\\\\react-app\\\\src\\\\component\\\\pages\\\\managerPages\\\\inventory\\\\viewInventory.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Table, Form, Input, Select, Button } from 'antd';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var ViewInventory = function ViewInventory() {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filteredData = _useState4[0],\n    setFilteredData = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    receivedDates = _useState6[0],\n    setReceivedDates = _useState6[1];\n  useEffect(function () {\n    axios.get(\"http://localhost:5000/api/parts_issue\").then(function (res) {\n      return setData(res.data);\n    });\n  }, []);\n  var columns = [{\n    key: 1,\n    title: \"Category\",\n    dataIndex: \"category\"\n  }, {\n    key: 2,\n    title: \"For Machine\",\n    dataIndex: \"for_machine\"\n  }, {\n    key: 3,\n    title: \"Part Code\",\n    dataIndex: \"part_code\"\n  }, {\n    key: 4,\n    title: \"Part Name\",\n    dataIndex: \"part_name\"\n  }, {\n    key: 5,\n    title: \"Description\",\n    dataIndex: \"part_description\"\n  }, {\n    key: 6,\n    title: \"Cost\",\n    dataIndex: \"cost\"\n  }, {\n    key: 7,\n    title: \"Last Received Date\",\n    dataIndex: \"last_received_date\",\n    render: function render(i) {\n      return i.slice(0, 10);\n    }\n  }, {\n    key: 8,\n    title: \"Stock Balance\",\n    dataIndex: \"stock_balance\"\n  }];\n  var getBreakDownTime = function getBreakDownTime() {\n    var arr = [];\n    console.log('hello');\n    for (var i = 0; i < data.length; i++) {\n      var startTime = new Date(data[i].last_received_date);\n      arr.push(\"\".concat(startTime.getDate(), \":\").concat(startTime.getMonth(), \":\").concat(startTime.getFullYear()), 'oo');\n      // data.last_received_date = receivedDates\n      data[i].last_received_date = arr[i];\n      console.log(data, 'lllllll');\n    }\n  };\n  var onFinish = function onFinish(e) {\n    if (e.category) {\n      setData(data.filter(function (i) {\n        return i.category == e.category;\n      }));\n      console.log(data, 'in category confition');\n    } else if (e.for_machine) {\n      setData(data.filter(function (i) {\n        return i.for_machine == e.for_machine;\n      }));\n    } else {\n      var b = data.filter(function (i) {\n        return i.category == e.category;\n      });\n      setData(b.filter(function (i) {\n        return i.for_machine == e.for_machine;\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\",\n      width: \"90% \"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Store Executive / View Inventorty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 6\n    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: getBreakDownTime,\n      children: \"Get TIme\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }, _this), /*#__PURE__*/_jsxDEV(Form\n    //   className=\"tool_record_form\"\n    , {\n      name: \"tool-form\",\n      layout: \"inline\",\n      onFinish: onFinish,\n      style: {\n        maxWidth: 1200\n      }\n      // initialValues={{\n      //   price: {\n      //     number: 0,\n      //     currency: 'rmb',\n      //   },\n      // }}\n      ,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"category\",\n        label: \"Category\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          style: {\n            width: \"120px\"\n          },\n          children: data && data.map(function (i) {\n            return /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: i.id,\n              children: i.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 34\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"for_machine\",\n        label: \"For Machine\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          style: {\n            width: \"120px\"\n          },\n          children: data && data.map(function (i) {\n            return /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: i.id,\n              children: i.for_machine\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 31\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"part_code\",\n        label: \"Part Code\",\n        children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"search_btn\",\n          htmlType: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n      children: \"Export Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, _this);\n};\n_s(ViewInventory, \"FGIg29ddAGJd8X3NCXajDjOV294=\");\n_c = ViewInventory;\nvar _c;\n$RefreshReg$(_c, \"ViewInventory\");","map":{"version":3,"names":["React","useEffect","useState","Table","Form","Input","Select","Button","axios","ViewInventory","data","setData","filteredData","setFilteredData","receivedDates","setReceivedDates","get","then","res","columns","key","title","dataIndex","render","i","slice","getBreakDownTime","arr","console","log","length","startTime","Date","last_received_date","push","getDate","getMonth","getFullYear","onFinish","e","category","filter","for_machine","b","margin","width","textAlign","maxWidth","map","id"],"sources":["E:/adesh/Pardeep sir projects/machine-maintence/react-app/src/component/pages/managerPages/inventory/viewInventory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Table,Form,Input,Select,Button } from 'antd'\r\nimport axios from 'axios';\r\nexport const ViewInventory = () => {\r\n  const[data,setData]=useState(null);\r\n  const[filteredData, setFilteredData]=useState([]);\r\n  const[receivedDates,setReceivedDates]=useState(null);\r\n  \r\n  useEffect(()=>{\r\n    axios\r\n    .get(\"http://localhost:5000/api/parts_issue\")\r\n    .then((res) => setData(res.data));\r\n  },[])\r\n const columns = [\r\n    {\r\n      key:1,\r\n    title:\"Category\",\r\n    dataIndex:\"category\"\r\n    },\r\n    {\r\n      key:2,\r\n    title:\"For Machine\",\r\n    dataIndex:\"for_machine\"\r\n    },\r\n    {\r\n      key:3,\r\n    title:\"Part Code\",\r\n    dataIndex:\"part_code\"\r\n    },\r\n    {\r\n      key:4,\r\n    title:\"Part Name\",\r\n    dataIndex:\"part_name\"\r\n    },\r\n    {\r\n      key:5,\r\n    title:\"Description\",\r\n    dataIndex:\"part_description\"\r\n    },\r\n    {\r\n      key:6,\r\n      title:\"Cost\",\r\n    dataIndex:\"cost\"\r\n    },\r\n    {\r\n      key:7,\r\n      title:\"Last Received Date\",\r\n    dataIndex:\"last_received_date\",\r\n    render:(i)=>{\r\n      return i.slice(0,10);\r\n    }\r\n    },\r\n    {\r\n      key:8,\r\n      title:\"Stock Balance\",\r\n    dataIndex:\"stock_balance\"\r\n    },\r\n ]\r\n\r\n \r\n const getBreakDownTime = () => {\r\n  const arr = [];\r\n console.log('hello')\r\n  for (let i = 0; i < data.length; i++) {\r\n    const startTime = new Date(data[i].last_received_date);\r\n  arr.push(`${startTime.getDate()}:${startTime.getMonth()}:${startTime.getFullYear()}`,'oo')\r\n  // data.last_received_date = receivedDates\r\n  data[i].last_received_date = arr[i];\r\n  console.log(data,'lllllll')\r\n}\r\n};\r\n\r\n\r\n const onFinish = (e)=>{\r\n    if(e.category){\r\n      setData(data.filter(i=>i.category==e.category));\r\n      console.log(data,'in category confition')\r\n    }else if(e.for_machine){\r\n      setData(data.filter(i=>i.for_machine==e.for_machine));\r\n    }else{\r\n     let b =  data.filter(i=>i.category==e.category);\r\n     setData(b.filter(i=>i.for_machine==e.for_machine))\r\n    }\r\n\r\n }\r\n\r\n return (\r\n    <div style={{margin:\"auto\",width:\"90% \"}}>\r\n     <h2 style={{textAlign:\"center\"}}>Store Executive / View Inventorty</h2>\r\n     <Button onClick={getBreakDownTime}>Get TIme</Button>\r\n      <Form\r\n      //   className=\"tool_record_form\"\r\n        name=\"tool-form\"\r\n        layout=\"inline\"\r\n        onFinish={onFinish}\r\n        style={{\r\n          maxWidth: 1200,\r\n        }}\r\n        // initialValues={{\r\n        //   price: {\r\n        //     number: 0,\r\n        //     currency: 'rmb',\r\n        //   },\r\n        // }}\r\n      >\r\n      \r\n        <Form.Item\r\n          name=\"category\"\r\n          label=\"Category\"\r\n        >\r\n       <Select style={{width:\"120px\"}}>\r\n          {data && data.map(i=>  <Select.Option value={i.id}>{i.category}</Select.Option>)}\r\n          {/* <Select.Option value=\"1\">\"one\"</Select.Option> */}\r\n          </Select>\r\n        </Form.Item> \r\n         <Form.Item\r\n          name=\"for_machine\"\r\n          label=\"For Machine\"\r\n        >\r\n       <Select style={{width:\"120px\"}}>\r\n       {data && data.map(i=>  <Select.Option value={i.id}>{i.for_machine}</Select.Option>)}\r\n        {/* <Select.Option value=\"1\">\"one\"</Select.Option> */}\r\n         \r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"part_code\"\r\n          label=\"Part Code\"\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button className=\"search_btn\" htmlType=\"submit\">\r\n            Search\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <Button>Export Report</Button>\r\n        <Table\r\n        columns={columns}\r\n        dataSource={data}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}